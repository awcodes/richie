document.addEventListener("livewire:init",()=>{let r=i=>{let t=Alpine.findClosest(i,n=>n.__livewire);if(!t)throw"Could not find Livewire component in DOM tree";return t.__livewire};Livewire.hook("commit",({component:i,commit:t,respond:n,succeed:a,fail:w})=>{a(({snapshot:s,effects:l})=>{l.dispatches?.forEach(e=>{if(!e.params?.awaitRichieComponent)return;let o=Array.from(i.el.querySelectorAll(`[wire\\:partial="richie-component::${e.params.awaitRichieComponent}"]`)).filter(m=>r(m)===i);if(o.length!==1){if(o.length>1)throw`Multiple richie components found with key [${e.params.awaitRichieComponent}].`;window.addEventListener(`richie-component-${i.id}-${e.params.awaitRichieComponent}-loaded`,()=>{window.dispatchEvent(new CustomEvent(e.name,{detail:e.params}))},{once:!0})}})})})});
